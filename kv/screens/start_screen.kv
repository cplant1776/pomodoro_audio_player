#===================================
# START SCREEN
#===================================

<StartScreenLabel@Label>:
    size_hint_y: None
    height: "30dp"
    width: "100dp"
    text_size: self.size
    halign: 'left'

<StartScreenTextInput@TextInput>:
    size_hint: (None, None)
    height: "30dp"
    width: "30dp"
    write_tab: False

<StartScreen>:

    Label:
        id: start_banner
        text: "PomodoroTimer"
        size_hint_y: None
        pos_hint: {'top': 1, 'center_x': 0.5}
        font_size: "65dp"

    GridLayout:
        cols: 2
        pos_hint: {'top': 0.8, 'center_x': 0.5}
        size_hint: 0.4, 0.75
        spacing: "25dp"
        padding: "25dp"

        StartScreenLabel:
            text: "Work Interval Duration:"
        StartScreenTextInput:
            id: w_i
            text: "25"
            input_filter: 'int'
            on_text: self.text = self.text and self.text[:2] or ''
        StartScreenLabel:
            text: "Rest Interval Duration:"
        StartScreenTextInput:
            id: r_i
            text: "5"
            input_filter: 'int'
            on_text: self.text = self.text and self.text[:2] or ''
        StartScreenLabel:
            text: "Long Rest Duration:"
        StartScreenTextInput:
            id: l_r_i
            text: "15"
            input_filter: 'int'
            on_text: self.text = self.text and self.text[:2] or ''
        StartScreenLabel:
            text: "Work Intervals per Long Rest:"
        StartScreenTextInput:
            id: i_p_s
            text: "4"
            input_filter: 'int'
            on_text: self.text = self.text and self.text[:2] or ''

    Button:
        size_hint: 0.2, 0.05
        pos_hint: {'center_x': 0.5, 'top': 0.35}
        text: "Next"
        on_release:
            app.root.transition.direction = 'left'
            root.update_intervals(work_interval=w_i.text, rest_interval=r_i.text,long_rest_interval=l_r_i.text, num_of_intervals=i_p_s.text)
            app.root.current = 'SourceScreen'


#canvas.before:
#    Color:
#        rgba: 1,0,0,1
#    Rectangle:
#        pos: self.pos
#        size: self.size